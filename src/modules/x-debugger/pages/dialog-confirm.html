<title>Test</title>

<script type="module">
    import xshell from "xshell";
    import XController from "x-controller";

    xshell.pages.createController(new XController({
        state: {
            message: ""
        },
        async onCommand(command, params, page) {
            if (command == "load") {
                //load
                page.label = params.context.title || "Confirm";
                this.state.message = params.context.message || "Are you sure?";

            } else if (command == "yes") {
                // yes
                page.close({ confirmed: true });

            } else if (command == "no") {
                // no
                page.close( { confirmed: false });
            }
        }
    }));
</script>

<template>
 
    <x-form>
        <p>
            {{ state.message }}
        </p>
        <x-button command="yes" label="Yes" class="submit" slot="footer"></x-button>
        <x-button command="no" label="No" class="" slot="footer"></x-button>
    </x-form>

</template>

